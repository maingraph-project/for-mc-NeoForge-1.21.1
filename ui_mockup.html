<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MGMC æ˜ å°„ç®¡ç†å™¨ UI æ¼”ç¤º</title>
    <style>
        :root {
            --bg-color: #1e1e1e;
            --panel-bg: #2d2d2d;
            --border-color: #3f3f3f;
            --text-color: #e0e0e0;
            --accent-color: #4caf50;
            --hover-color: #388e3c;
            --danger-color: #f44336;
            --list-item-hover: #3d3d3d;
            --list-item-selected: #4a4a4a;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            display: flex;
            flex-direction: column;
            height: 100vh;
            overflow: hidden;
        }

        header {
            padding: 15px 20px;
            background-color: #252525;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .main-container {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        /* åˆ—è¡¨é¢æ¿é€šç”¨æ ·å¼ */
        .panel {
            display: flex;
            flex-direction: column;
            border-right: 1px solid var(--border-color);
            background-color: var(--panel-bg);
        }

        .panel-header {
            padding: 10px 15px;
            background-color: #333;
            font-weight: bold;
            font-size: 0.9em;
            color: #aaa;
            text-transform: uppercase;
            letter-spacing: 1px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .list-container {
            flex: 1;
            overflow-y: auto;
        }

        .list-item {
            padding: 12px 15px;
            border-bottom: 1px solid #363636;
            cursor: pointer;
            transition: background 0.2s;
            display: flex;
            align-items: center;
        }

        .list-item:hover {
            background-color: var(--list-item-hover);
        }

        .list-item.selected {
            background-color: var(--list-item-selected);
            border-left: 3px solid var(--accent-color);
        }

        /* å·¦ä¾§ï¼šMC ID åˆ—è¡¨ */
        .left-panel {
            width: 350px;
        }

        .id-text {
            font-family: 'Consolas', monospace;
            color: #81c784;
        }

        .add-btn {
            background: none;
            border: none;
            color: var(--accent-color);
            font-size: 24px;
            cursor: pointer;
            padding: 0 10px;
            line-height: 1;
        }

        .add-btn:hover {
            color: var(--hover-color);
        }

        /* å³ä¾§ï¼šè“å›¾åˆ—è¡¨ */
        .right-panel {
            flex: 1;
            background-color: #252525;
        }

        .blueprint-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .blueprint-info {
            display: flex;
            flex-direction: column;
        }

        .blueprint-name {
            font-weight: bold;
        }

        .blueprint-desc {
            font-size: 0.8em;
            color: #888;
        }

        /* åº•éƒ¨å·¥å…·æ  */
        footer {
            height: 60px;
            background-color: #252525;
            border-top: 1px solid var(--border-color);
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
        }

        .btn {
            padding: 8px 25px;
            border-radius: 4px;
            border: none;
            cursor: pointer;
            font-weight: bold;
            font-size: 14px;
            transition: all 0.2s;
        }

        .btn-primary {
            background-color: var(--accent-color);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--hover-color);
            transform: translateY(-1px);
        }

        /* å¼¹çª—æ¨¡æ‹Ÿ */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.7);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal {
            background: var(--panel-bg);
            padding: 25px;
            border-radius: 8px;
            width: 400px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.5);
        }

        .modal h3 { margin-top: 0; }
        .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-top: 20px;
        }

        input[type="text"] {
            width: 100%;
            padding: 10px;
            background: #1e1e1e;
            border: 1px solid var(--border-color);
            color: white;
            border-radius: 4px;
            box-sizing: border-box;
            font-family: 'Consolas', monospace;
        }

        .badge {
            font-size: 10px;
            padding: 2px 6px;
            border-radius: 10px;
            background: #444;
            margin-left: 8px;
            color: #ccc;
        }
    </style>
</head>
<body>

<header>
    <div style="font-weight: bold; font-size: 1.2em;">MGMC æ˜ å°„ç®¡ç†å™¨ <span style="font-size: 0.6em; color: #888; font-weight: normal;">v1.21.11</span></div>
    <div style="font-size: 0.9em; color: #888;">æŒ‰ <kbd style="background: #444; padding: 2px 5px; border-radius: 3px;">ESC</kbd> é€€å‡º</div>
</header>

<div class="main-container">
    <!-- å·¦ä¾§ ID åˆ—è¡¨ -->
    <div class="panel left-panel">
        <div class="panel-header">
            <span>è®¢é˜…çš„ Minecraft ID</span>
            <button class="add-btn" onclick="showAddIdModal()" title="æ–°å»ºå®šä¹‰">+</button>
        </div>
        <div class="list-container" id="id-list">
            <!-- å›ºå®šç³»ç»Ÿé¡¹ -->
            <div class="list-item" onclick="selectId(this, 'mgmc:global')" style="background: #3a2d4a; border-bottom: 2px solid #5e4485;">
                <span class="id-text" style="color: #b39ddb;">ğŸŒ å…¨å±€ç³»ç»Ÿå®šä¹‰ (Global)</span>
                <span class="badge">1 ä¸ªè“å›¾</span>
            </div>
            <div class="list-item" onclick="selectId(this, 'mgmc:players')" style="background: #2d3a4a; border-bottom: 2px solid #446e85;">
                <span class="id-text" style="color: #90caf9;">ğŸ‘¥ å…¨ä½“ç©å®¶å®šä¹‰ (Players)</span>
                <span class="badge">1 ä¸ªè“å›¾</span>
            </div>
            <div style="height: 10px; background: #1a1a1a;"></div> <!-- åˆ†å‰²çº¿ -->
            <!-- æ¨¡æ‹Ÿæ•°æ® -->
            <div class="list-item selected" onclick="selectId(this, 'minecraft:diamond_ore')">
                <span class="id-text">minecraft:diamond_ore</span>
                <span class="badge">2 ä¸ªè“å›¾</span>
            </div>
            <div class="list-item" onclick="selectId(this, 'minecraft:player')">
                <span class="id-text">minecraft:player</span>
                <span class="badge">1 ä¸ªè“å›¾</span>
            </div>
            <div class="list-item" onclick="selectId(this, 'minecraft:stone')">
                <span class="id-text">minecraft:stone</span>
                <span class="badge">0 ä¸ªè“å›¾</span>
            </div>
        </div>
    </div>

    <!-- å³ä¾§ è“å›¾åˆ—è¡¨ -->
    <div class="panel right-panel">
        <div class="panel-header">
            <span id="right-panel-title">å·²ç»‘å®šåˆ° minecraft:diamond_ore çš„è“å›¾</span>
            <button class="btn btn-primary" style="padding: 2px 10px; font-size: 12px;">+ ç»‘å®šæ–°è“å›¾</button>
        </div>
        <div class="list-container" id="blueprint-list">
            <!-- åŠ¨æ€æ¸²æŸ“ -->
            <div class="list-item blueprint-item">
                <div class="blueprint-info">
                    <span class="blueprint-name">çŸ¿ç‰©æ‰è½å€ç‡ä¼˜åŒ–</span>
                    <span class="blueprint-desc">è·¯å¾„: blueprints/mining/drop_multiplier.json</span>
                </div>
                <button style="background: none; border: none; color: var(--danger-color); cursor: pointer;">ç§»é™¤</button>
            </div>
            <div class="list-item blueprint-item">
                <div class="blueprint-info">
                    <span class="blueprint-name">æŒ–æ˜éœ‡åŠ¨ç²’å­ç‰¹æ•ˆ</span>
                    <span class="blueprint-desc">è·¯å¾„: blueprints/vfx/mining_particle.json</span>
                </div>
                <button style="background: none; border: none; color: var(--danger-color); cursor: pointer;">ç§»é™¤</button>
            </div>
        </div>
    </div>
</div>

<footer>
    <button class="btn btn-primary" onclick="saveAll()">ä¿å­˜æ›´æ”¹</button>
</footer>

<!-- æ–°å»º ID å¼¹çª— -->
<div id="add-id-modal" class="modal-overlay">
    <div class="modal">
        <h3>æ–°å»ºå®šä¹‰</h3>
        <p style="font-size: 0.9em; color: #888;">è¯·è¾“å…¥è¦ç›‘å¬çš„ Minecraft æ³¨å†Œè¡¨ ID (ResourceLocation)</p>
        <input type="text" id="new-id-input" placeholder="ä¾‹å¦‚ minecraft:zombie">
        <div class="modal-footer">
            <button class="btn" style="background: #444;" onclick="closeModal('add-id-modal')">å–æ¶ˆ</button>
            <button class="btn btn-primary" onclick="confirmAddId()">ç¡®å®š</button>
        </div>
    </div>
</div>

<!-- ESC è¯¢é—®å¼¹çª— -->
<div id="esc-modal" class="modal-overlay">
    <div class="modal">
        <h3>æœªä¿å­˜çš„æ›´æ”¹</h3>
        <p>æ‚¨æœ‰æœªä¿å­˜çš„æ˜ å°„é…ç½®ï¼Œæ˜¯å¦ä¿å­˜åé€€å‡ºï¼Ÿ</p>
        <div class="modal-footer">
            <button class="btn" style="background: var(--danger-color);" onclick="exitWithoutSaving()">æ”¾å¼ƒæ›´æ”¹</button>
            <button class="btn" style="background: #444;" onclick="closeModal('esc-modal')">å–æ¶ˆ</button>
            <button class="btn btn-primary" onclick="saveAndExit()">ä¿å­˜å¹¶é€€å‡º</button>
        </div>
    </div>
</div>

<script>
    const mockData = {
        'minecraft:diamond_ore': [
            { name: 'çŸ¿ç‰©æ‰è½å€ç‡ä¼˜åŒ–', path: 'blueprints/mining/drop_multiplier.json' },
            { name: 'æŒ–æ˜éœ‡åŠ¨ç²’å­ç‰¹æ•ˆ', path: 'blueprints/vfx/mining_particle.json' }
        ],
        'minecraft:player': [
            { name: 'å…¨å±€é˜²ä½œå¼Šæ£€æµ‹', path: 'blueprints/system/anti_cheat.json' }
        ],
        'minecraft:stone': []
    };

    function selectId(element, id) {
        // æ›´æ–°é€‰ä¸­çŠ¶æ€
        document.querySelectorAll('.list-item').forEach(el => el.classList.remove('selected'));
        element.classList.add('selected');

        // æ›´æ–°æ ‡é¢˜
        document.getElementById('right-panel-title').innerText = `å·²ç»‘å®šåˆ° ${id} çš„è“å›¾`;

        // æ›´æ–°è“å›¾åˆ—è¡¨
        const list = document.getElementById('blueprint-list');
        list.innerHTML = '';
        
        const blueprints = mockData[id] || [];
        if (blueprints.length === 0) {
            list.innerHTML = '<div style="padding: 40px; text-align: center; color: #666;">æš‚æ— ç»‘å®šè“å›¾</div>';
        } else {
            blueprints.forEach(bp => {
                list.innerHTML += `
                    <div class="list-item blueprint-item">
                        <div class="blueprint-info">
                            <span class="blueprint-name">${bp.name}</span>
                            <span class="blueprint-desc">è·¯å¾„: ${bp.path}</span>
                        </div>
                        <button style="background: none; border: none; color: var(--danger-color); cursor: pointer;">ç§»é™¤</button>
                    </div>
                `;
            });
        }
    }

    function showAddIdModal() {
        document.getElementById('add-id-modal').style.display = 'flex';
        document.getElementById('new-id-input').focus();
    }

    function closeModal(id) {
        document.getElementById(id).style.display = 'none';
    }

    function confirmAddId() {
        const id = document.getElementById('new-id-input').value.trim();
        if (id) {
            const list = document.getElementById('id-list');
            const newItem = document.createElement('div');
            newItem.className = 'list-item';
            newItem.onclick = function() { selectId(this, id); };
            newItem.innerHTML = `
                <span class="id-text">${id}</span>
                <span class="badge">0 ä¸ªè“å›¾</span>
            `;
            list.appendChild(newItem);
            mockData[id] = [];
            closeModal('add-id-modal');
            selectId(newItem, id);
        }
    }

    function saveAll() {
        alert('é…ç½®å·²æˆåŠŸä¿å­˜åˆ° bindings.jsonï¼');
    }

    // æ¨¡æ‹Ÿ ESC é”®ç›‘å¬
    window.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            document.getElementById('esc-modal').style.display = 'flex';
        }
    });

    function saveAndExit() {
        alert('æ­£åœ¨ä¿å­˜å¹¶é€€å‡º...');
        closeModal('esc-modal');
    }

    function exitWithoutSaving() {
        alert('æ”¾å¼ƒæ›´æ”¹å¹¶é€€å‡º...');
        closeModal('esc-modal');
    }
</script>

</body>
</html>
